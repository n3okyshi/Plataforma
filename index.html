<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>MathLingo - Plataforma Did√°tica</title>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#58cc02">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü¶â</text></svg>">



    <script>
        (function () {
            const userTheme = localStorage.getItem('theme');
            const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (userTheme === 'dark' || (!userTheme && systemDark)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        })();
    </script>

    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>






    <link rel="stylesheet" href="css/style.css" />

    <script>
        tailwind.config = {
            darkMode: 'class', // Ativa√ß√£o manual via classe .dark
            theme: {
                extend: {
                    fontFamily: { sans: ["Nunito", "sans-serif"] },
                    // Paleta de Cores do MathLingo
                    colors: {
                        glass: {
                            light: "rgba(255, 255, 255, 0.7)",
                            dark: "rgba(32, 47, 54, 0.6)",
                            border: "rgba(255, 255, 255, 0.2)",
                        },
                        brand: {
                            text: "#4B4B4B", bg: "#F7F9FA",
                            green: "#58CC02", greenDark: "#46A302",
                            blue: "#1CB0F6", blueDark: "#1899D6",
                            purple: "#CE82FF", purpleDark: "#A568CC",
                            red: "#FF4B4B", redDark: "#EA2B2B",
                            yellow: "#FFC800", yellowDark: "#E5B400",
                            darkBg: "#131F24", darkCard: "#202F36", darkText: "#E5E7EB",
                        },
                        backdropBlur: { xs: '2px' }
                    },
                    // Anima√ß√µes Personalizadas
                    animation: {
                        "fade-in": "fadeIn 0.4s ease-out forwards",
                        "pop-in": "popIn 0.3s ease-out forwards",
                    },
                    keyframes: {
                        fadeIn: { "0%": { opacity: "0", transform: "translateY(10px)" }, "100%": { opacity: "1", transform: "translateY(0)" } },
                        popIn: { "0%": { transform: "scale(0)" }, "80%": { transform: "scale(1.1)" }, "100%": { transform: "scale(1)" } },
                    },
                },
            },
        };
    </script>
</head>

<body class="h-screen flex flex-col overflow-hidden font-sans transition-colors duration-500
             bg-gradient-to-b from-slate-200 via-slate-50 to-white
             dark:bg-[radial-gradient(ellipse_at_top_left,_var(--tw-gradient-stops))] 
             dark:from-[#2a4365] dark:via-[#131F24] dark:to-[#0f172a]
             text-brand-text dark:text-brand-darkText">

    <header class="bg-white dark:bg-brand-darkCard border-b-2 border-gray-200 dark:border-gray-700 
                   h-16 md:h-20 flex items-center justify-between px-4 md:px-8 z-50 shrink-0 transition-colors">

        <div class="flex items-center gap-4">
            <button id="btn-back" onclick="app.back()"
                class="hidden text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-xl transition-colors">
                <i class="fas fa-chevron-left text-2xl"></i>
            </button>

            <div id="logo-area" class="flex items-center gap-3 cursor-pointer" onclick="app.navigate('home')">
                <div
                    class="w-10 h-10 bg-[#58cc02] rounded-xl relative overflow-hidden shadow-sm group hover:scale-105 transition-transform">
                    <div class="absolute top-1 left-1 w-3 h-3 bg-white rounded-full opacity-40"></div>
                    <div class="absolute bottom-1 right-1 w-4 h-4 bg-[#46a302] rounded-full"></div>
                </div>
                <h1 class="text-2xl font-extrabold text-[#58cc02] tracking-tight hidden md:block">MathLingo</h1>
            </div>
        </div>

        <div class="flex items-center gap-2 md:gap-4 font-bold text-gray-400">

            <div
                class="flex items-center gap-2 text-yellow-500 bg-yellow-50 dark:bg-yellow-900/20 px-3 py-1 rounded-xl border-2 border-transparent">
                <i class="fas fa-bolt"></i> <span id="header-xp">0</span>
            </div>
            <div
                class="hidden md:flex items-center gap-2 text-yellow-600 bg-yellow-100 dark:bg-yellow-600/20 px-3 py-1 rounded-xl">
                <i class="fas fa-crown"></i> <span id="header-lessons">0</span>
            </div>

            <div
                class="flex items-center gap-2 text-gray-500 dark:text-gray-300 font-bold text-sm bg-orange-100 dark:bg-orange-900/20 px-2 py-1 rounded-lg">
                <span id="header-streak" class="flex items-center gap-1">
                    <i class="fas fa-fire text-gray-300"></i> 0
                </span>
            </div>

            <button id="btn-settings" onclick="app.navigate('settings')" title="Configura√ß√µes"
                class="text-gray-400 hover:text-gray-600 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">
                <i class="fas fa-cog text-xl"></i>
            </button>

            <button onclick="app.toggleTheme()" title="Alternar Tema"
                class="text-gray-400 hover:text-purple-500 transition-colors p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">
                <i id="icon-theme" class="fas fa-moon text-xl text-yellow-400"></i>
            </button>

            <button id="btn-login"
                class="text-gray-500 hover:text-blue-500 font-bold text-sm uppercase tracking-wide transition-colors px-2">
                Entrar
            </button>
        </div>
    </header>

    <main id="main-container"
        class="flex-1 overflow-y-auto no-scrollbar w-full max-w-5xl mx-auto relative transition-colors">
    </main>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((reg) => console.log('[PWA] Service Worker registrado com escopo:', reg.scope))
                    .catch((err) => console.error('[PWA] Falha ao registrar SW:', err));
            });
        }
    </script>



    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            },
            startup: {
                typeset: false
            }
        };
    </script>

    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>





    <script src="js/loader.js"></script>
    <script src="js/app.js"></script>
 


</body>

</html>